const bgm=new Audio("./assets/map-my-future-bgm.ogg");bgm.play(),bgm.loop=!0,document.addEventListener("DOMContentLoaded",()=>{var e=document.querySelectorAll(".location");document.getElementsByClassName("map")[0].onload=function(e){let o=null,a={x:0,y:0};const t=e.target;let i=null,s,l,c,r,m;function d(e){var n=t.getScreenCTM();return{x:(e.clientX-n.e)/n.a,y:(e.clientY-n.f)/n.d}}function n(e){o=null}t.addEventListener("mousedown",function(e){var n;(o=e.target.parentNode).classList.contains("undraggable")?o=null:(o.classList.contains("confined")&&(s=o.getBBox(),l=-100-s.x,r=2200-s.x-s.width,c=-30-s.y,m=1200-s.y-s.height),a=d(e),0===(e=o.transform.baseVal).length&&((n=t.createSVGTransform()).setTranslate(0,0),o.transform.baseVal.insertItemBefore(n,0)),i=e.getItem(0),a.x-=i.matrix.e,a.y-=i.matrix.f)}),t.addEventListener("mousemove",function(t){if(o){t.preventDefault();t=d(t);let e=t.x-a.x,n=t.y-a.y;o.classList.contains("confined")&&(e<l?e=l:e>r&&(e=r),n<c?n=c:n>m&&(n=m)),i.setTranslate(e,n)}}),t.addEventListener("mouseup",n),t.addEventListener("mouseleave",n)},e.forEach(n=>{n.addEventListener("click",()=>{var e=n.getAttribute("data-location");console.log(e+" is selected."),"Cartomancy"===e?window.location.href="./mini-apps/cartomancy/cartomancy.html":"Molybdomancy"===e?window.location.href="./mini-apps/molybdomancy/molybdomancy.html":"Fortune Stick"===e?window.location.href="./mini-apps/fortune_stick/fortune_stick.html":"Yin Yang Coin"===e&&(window.location.href="./mini-apps/yin_yang_coin/yin_yang_coin.html")})});let t=!0,n=!1;var e=document.getElementById("music-button"),o=document.getElementById("info-button");e.addEventListener("click",e=>{var n=document.querySelectorAll("img")[0];t?(n.src="./assets/audio_off.png",bgm.pause()):(n.src="./assets/audio_on.png",bgm.play()),t=!t}),o.addEventListener("click",e=>{document.getElementById("info-popup").style.display=n?"none":"flex",n=!n})});
