function makeDraggable(e){let t=null,n={x:0,y:0};const o=e.target;let s,a,l,c,i=null;function r(e){const t=o.getScreenCTM();return{x:(e.clientX-t.e)/t.a,y:(e.clientY-t.f)/t.d}}function d(e){t=null}o.addEventListener("mousedown",(function(e){if(t=e.target.parentNode,t.classList.contains("undraggable"))return void(t=null);t.classList.contains("confined")&&(bbox=t.getBBox(),s=-100-bbox.x,l=2200-bbox.x-bbox.width,a=-30-bbox.y,c=1200-bbox.y-bbox.height);n=r(e);const d=t.transform.baseVal;if(0===d.length||d.getItem(0).type!==SVGTransform.SVG_TRANSFORM_TRANSLATE){const e=o.createSVGTransform();e.setTranslate(0,0),t.transform.baseVal.insertItemBefore(e,0)}i=d.getItem(0),n.x-=i.matrix.e,n.y-=i.matrix.f})),o.addEventListener("mousemove",(function(e){if(t){e.preventDefault();const o=r(e);let d=o.x-n.x,u=o.y-n.y;t.classList.contains("confined")&&(d<s?d=s:d>l&&(d=l),u<a?u=a:u>c&&(u=c)),i.setTranslate(d,u)}})),o.addEventListener("mouseup",d),o.addEventListener("mouseleave",d)}document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll(".location"),t=(document.getElementsByClassName("map")[0],new Audio("../assets/map-my-future-bgm.ogg"));t.play(),t.loop=!0,e.forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-location");console.log(`${t} is selected.`)}))}));let n=!0;let o=!1;const s=document.getElementById("music-button"),a=document.getElementById("info-button");s.addEventListener("click",(e=>{const o=document.querySelectorAll("img")[0];n?(o.src="../assets/audio_off.png",t.pause()):(o.src="../assets/audio_on.png",t.play()),n=!n})),a.addEventListener("click",(e=>{document.getElementById("info-popup").style.display=o?"none":"flex",o=!o}))}));
